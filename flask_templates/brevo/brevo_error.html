<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Examples</title>
		<!-- Use static CSS from /public/build/tailwind.css -->
		<link rel="stylesheet" href="../../public/build/tailwind.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <script
      src="https://unpkg.com/htmx.org@1.9.12"
      integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2"
      crossorigin="anonymous"></script>
  </head>
	<body class="w-full min-w-40 bg-gray-100 font-body text-gray-900">
        <div class="w-full max-w-screen-sm mx-auto p-4">
            <h1
              class="text-center text-xl text-pacific-blue-600">
              Newsletter
            </h1>
            <p class="text-center">Subscribe to follow our news</p>
            <form class="pt-8"
              id="newsletter-form"
              method="post"
              hx-post="{{ url_for('api.brevo_error') }}"
              hx-target="#newsletter-form"
              hx-on:htmx:response-error="
              document.querySelector('#error-msg').classList.remove('hidden');
              document.querySelector('#error-msg').innerHTML = event.detail.xhr.responseText;"
              >
              <div class="relative mb-4">
                <label for="form-email" class="text-gray-700"
                  >E-mail address</label
                >
                <input
                  id="form-email"
                  name="email"
                  type="email"
                  pattern="^.+@.+\..+$"
                  placeholder="jeandupont@mail.com"
                  value="a@a.fr"
                  required
                  class="w-full focus:outline-none" />
              </div>
              <div class="grid grid-cols-1 xsm:grid-cols-2 gap-4">
                <div class="inline-block min-w-40 w-full">
                  <label for="form-prenom" class="text-gray-700"
                    >First name</label
                  >
                  <input
                    id="form-prenom"
                    name="first_name"
                    type="text"
                    pattern="[^\d]+"
                    placeholder="Jean"
                    value="Thomas"
                    required
                    class="w-full focus:outline-none" />
                </div>
                <div class="relative inline-block min-w-40 w-full">
                  <label for="form-nom" class="text-gray-700">Last Name</label>
                  <input
                    id="form-nom"
                    name="last_name"
                    type="text"
                    pattern="[^\d]+"
                    placeholder="Dupont"
                    value="Dargent"
                    required
                    class="w-full focus:outline-none" />
                </div>
              </div>
              <label for="form-consent" class="mt-8 inline-flex items-center">
                <input
                  id="form-consent"
                  name="form-consent"
                  type="checkbox"
                  class="m-4" required/>
                I agree to your legal documents bla bla bla.
              </label>
              <div id="error-msg" class="mb-4 border-pink-800 text-pink-800 shadow-pink-800 font-bold border-2 shadow-punk p-1 hidden"></div>
              <button
                type="submit"
                class="block mx-auto text-pacific-blue-100 bg-pacific-blue-900 p-4 hover:scale-110 hover:shadow-md">
                Subscribe !
              </button>
            </form>
          </div>
        </div>
        <script src="../../public/js/send-data.js"></script>
	</body>
</html>
